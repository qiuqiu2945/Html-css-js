<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>email</title>
	</head>
	<body>
		<script>
			function strLength(s, bUnicode255For1) {
			    var len = 0;
			    if(bUnicode255For1 === true){
			        len = s.length;
			    }else{
			        for(let i=0; i<s.length; i++){
			            if(s.codePointAt(i)>255){
										len += 2;
									}else{
										len += 1;
									}
			        }
			    }
					console.log(len);
			}
			formatDate(new Date(),'yyyy-MM-dd HH:m:s 星期w');
			function formatDate(date, sForm){
				var day = ['日', '一', '二', '三', '四', '五', '六'];
				var obj = {
					'yyyy': date.getFullYear().toString(),
					'yy': date.getFullYear().toString().substr(2),
					'MM': addZero(date.getMonth()+1),
					'M': date.getMonth()+1,
					'dd': addZero(date.getDate()),
					'd': date.getDate(),
					'HH': addZero(date.getHours()),
					'H': date.getHours(),
					'hh': addZero(date.getHours()%12),
					'h': date.getHours()%12,
					'mm': addZero(date.getMinutes()),
					'm': date.getMinutes(),
					'ss': addZero(date.getSeconds()),
					's': date.getSeconds(),
					'w': day[date.getDay()]
				}
				for(var pro in obj){
					sForm = sForm.replace(pro, obj[pro]);
				}
				console.log(sForm);
				return sForm;
			}
			function addZero(num){
				if(num < 10){
					return '0' + num;
				}else{
					return num;
				}
			}
			
		</script>
	</body>
</html>
